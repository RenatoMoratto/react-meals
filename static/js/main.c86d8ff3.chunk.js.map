{"version":3,"sources":["theme/globalStyle.js","assets/meals.jpg","store/cart-context.js","components/Cart/CartIcon.js","components/Layout/HeaderCartButton.js","components/Layout/Header.js","components/UI/Card.js","components/UI/Input.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/MealItem.js","components/Meals/AvailableMeals.js","components/Meals/MealsSummary.js","components/Meals/Meals.js","components/UI/Modal.js","components/Cart/CartItem.js","components/Cart/Checkout.js","components/Cart/Cart.js","store/CartProvider.js","App.js","index.js"],"names":["GlobalStyle","createGlobalStyle","CartContext","React","createContext","items","totalAmount","addItem","item","removeItem","id","clearCart","CartIcon","xmlns","viewBox","fill","d","HeaderCartButton","props","useState","buttonIsHighLighted","setButtonIsHighLighted","useContext","numberOfCartItems","reduce","current","amount","useEffect","length","timer","setTimeout","clearTimeout","Button","className","onClick","Icon","Badge","bump","keyframes","styled","span","button","Header","onShowCart","StyledHeader","MainImage","src","mealsImg","alt","header","div","Card","Input","label","input","InputWrapper","htmlFor","MealItemForm","onAddToCart","amountIsValid","setAmountIsValid","setAmount","Form","onSubmit","event","preventDefault","enteredAmountNumber","trim","type","min","max","step","value","onChange","target","form","MealItem","name","description","price","cartCtx","formattedPrice","toFixed","Meal","Description","Price","li","AvailableMeals","meals","setMeals","isLoading","setIsLoading","httpError","setHttpError","fetch","then","response","ok","Error","json","data","loadedMeals","key","push","catch","error","message","finally","MealsLoading","MealsError","mealsList","map","meal","Meals","section","mealsAppear","MealsSummary","Summary","portalElement","document","getElementById","Backdrop","onClose","BackdropStyle","Modal","children","ReactDOM","createPortal","ModalOverlay","slideDown","CartItem","onRemove","onAdd","CartItemWrapper","Amount","Actions","isNotEmpty","Checkout","onConfirm","onCancel","street","postalCode","city","formInputsValidity","setFormInputsValidity","nameInputRef","useRef","streetInputRef","postalInputRef","cityInputRef","enteredName","enteredStreet","enteredPostalCode","enteredCity","enteredNameIsValid","enteredStreetIsValid","enteredPostalCodeIsValid","enteredCityIsValid","reset","Control","invalid","ref","Cart","isCheckout","setIsCheckout","isSubmitting","setIsSubmitting","didSubmit","setDidSubmit","hasItems","cartItemRemoveHandler","cartItemAddHandler","cartItems","CartItems","bind","modalActions","cartModalContent","Total","userData","method","body","JSON","stringify","user","orderedItems","isSubmittingModalContent","didSubmitModalContent","ul","defaultCartState","cartReducer","state","action","updatedItems","updatedTotalAmount","existingCartItemIndex","findIndex","existingCartItem","updatedItem","concat","existingItem","filter","CartProvider","useReducer","cartState","dispatchCartAction","cartContext","Provider","App","cartIsShown","setCartIsShown","render"],"mappings":"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","file":"static/js/main.c86d8ff3.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  box-sizing: border-box;\r\n\r\n  body {\r\n    margin: 0;\r\n    padding: 0;\r\n    background-color: #3f3f3f;\r\n    font-family: 'Noto Sans JP', sans-serif;\r\n  }\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","export default __webpack_public_path__ + \"static/media/meals.2971f633.jpg\";","import React from 'react';\r\n\r\nconst CartContext = React.createContext({\r\n  items: [],\r\n  totalAmount: 0,\r\n  addItem: (item) => {},\r\n  removeItem: (id) => {},\r\n  clearCart: () => {},\r\n});\r\n\r\nexport default CartContext;\r\n","export default function CartIcon() {\r\n  return (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n      <path d=\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\" />\r\n    </svg>\r\n  );\r\n}\r\n","import { useContext, useEffect, useState } from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\n\r\nimport CartContext from '../../store/cart-context';\r\nimport CartIcon from '../Cart/CartIcon';\r\n\r\nexport default function HeaderCartButton(props) {\r\n  const [buttonIsHighLighted, setButtonIsHighLighted] = useState(false);\r\n\r\n  const cartCtx = useContext(CartContext);\r\n  const { items } = cartCtx;\r\n\r\n  const numberOfCartItems = items.reduce((current, item) => current + item.amount, 0);\r\n\r\n  useEffect(() => {\r\n    if (items.length === 0) {\r\n      return;\r\n    }\r\n    setButtonIsHighLighted(true);\r\n\r\n    const timer = setTimeout(() => {\r\n      setButtonIsHighLighted(false);\r\n    }, 300);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [items]);\r\n\r\n  return (\r\n    <Button className={buttonIsHighLighted ? 'bump' : ''} onClick={props.onClick}>\r\n      <Icon>\r\n        <CartIcon />\r\n      </Icon>\r\n      <span className=\"label\">Your Cart</span>\r\n      <Badge>{numberOfCartItems}</Badge>\r\n    </Button>\r\n  );\r\n}\r\n\r\nconst bump = keyframes`\r\n  0% {\r\n    transform: scale(1);\r\n  }\r\n  10% {\r\n    transform: scale(0.9);\r\n  }\r\n  30% {\r\n    transform: scale(1.1);\r\n  }\r\n  50% {\r\n    transform: scale(1.15);\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n  }\r\n`;\r\n\r\nconst Icon = styled.span`\r\n  width: 1.35rem;\r\n  height: 1.35rem;\r\n  margin-right: 0.5rem;\r\n`;\r\n\r\nconst Badge = styled.span`\r\n  background-color: #b94517;\r\n  padding: 0.25rem 1rem;\r\n  border-radius: 25px;\r\n  margin-left: 1rem;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  cursor: pointer;\r\n  font: inherit;\r\n  border: none;\r\n  background-color: #4d1601;\r\n  color: white;\r\n  padding: 0.75rem 3rem;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  border-radius: 25px;\r\n  font-weight: bold;\r\n\r\n  &:hover,\r\n  &:active {\r\n    background-color: #2c0d00;\r\n  }\r\n\r\n  &:hover ${Badge}, &:active ${Badge} {\r\n    background-color: #92320c;\r\n  }\r\n\r\n  &.bump {\r\n    animation: ${bump} 300ms ease-out;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    padding: 0.75rem 1.5rem;\r\n\r\n    ${Icon} {\r\n      width: 1.75rem;\r\n      height: 1.75rem;\r\n      margin-right: 0.5rem;\r\n    }\r\n\r\n    .label {\r\n      display: none;\r\n    }\r\n  }\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nimport mealsImg from '../../assets/meals.jpg';\r\nimport HeaderCartButton from './HeaderCartButton';\r\n\r\nexport default function Header({ onShowCart }) {\r\n  return (\r\n    <>\r\n      <StyledHeader>\r\n        <h1>React Meals</h1>\r\n        <HeaderCartButton onClick={onShowCart} />\r\n      </StyledHeader>\r\n      <MainImage>\r\n        <img src={mealsImg} alt=\"A table full of delicious food!\" />\r\n      </MainImage>\r\n    </>\r\n  );\r\n}\r\n\r\nconst StyledHeader = styled.header`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 80%;\r\n  height: 5rem;\r\n  background-color: #8a2b06;\r\n  color: white;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 10%;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);\r\n  z-index: 10;\r\n\r\n  @media (max-width: 425px) {\r\n    height: 8rem;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n\r\n    h1 {\r\n      margin: 0.25rem 0;\r\n    }\r\n  }\r\n`;\r\n\r\nconst MainImage = styled.div`\r\n  width: 100%;\r\n  height: 25rem;\r\n  z-index: 0;\r\n  overflow: hidden;\r\n\r\n  img {\r\n    width: 110%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n    transform: rotateZ(-5deg) translateY(-4rem) translateX(-1rem);\r\n  }\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nconst Card = styled.div`\r\n  padding: 1rem;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);\r\n  border-radius: 14px;\r\n  background-color: white;\r\n`;\r\n\r\nexport default Card;\r\n","import styled from 'styled-components';\r\n\r\nexport default function Input({ label, input }) {\r\n  return (\r\n    <InputWrapper>\r\n      <label htmlFor={input.id}>{label}</label>\r\n      <input {...input} />\r\n    </InputWrapper>\r\n  );\r\n}\r\n\r\nconst InputWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 0.5rem;\r\n\r\n  label {\r\n    font-weight: bold;\r\n    margin-right: 1rem;\r\n  }\r\n\r\n  input {\r\n    width: 3rem;\r\n    border-radius: 5px;\r\n    border: 1px solid #ccc;\r\n    font: inherit;\r\n    padding-left: 0.5rem;\r\n  }\r\n`;\r\n","import { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Input from '../../UI/Input';\r\n\r\nexport default function MealItemForm({ id, onAddToCart }) {\r\n  const [amountIsValid, setAmountIsValid] = useState(true);\r\n  const [amount, setAmount] = useState('1');\r\n\r\n  const changeHandler = (event) => {\r\n    setAmount(event.target.value);\r\n  };\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    const enteredAmountNumber = +amount;\r\n\r\n    if (\r\n      amount.trim().length === 0 ||\r\n      enteredAmountNumber < 1 ||\r\n      enteredAmountNumber > 5\r\n    ) {\r\n      setAmountIsValid(false);\r\n      return;\r\n    }\r\n\r\n    onAddToCart(enteredAmountNumber);\r\n\r\n    setAmount('1');\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={submitHandler}>\r\n      <Input\r\n        label=\"Amount\"\r\n        input={{\r\n          id: 'amount_' + id,\r\n          type: 'number',\r\n          min: '1',\r\n          max: '5',\r\n          step: '1',\r\n          value: amount,\r\n          onChange: changeHandler,\r\n        }}\r\n      />\r\n      <button>+ Add</button>\r\n      {!amountIsValid && <p>Please enter a valid amount (1-5).</p>}\r\n    </Form>\r\n  );\r\n}\r\n\r\nconst Form = styled.form`\r\n  text-align: right;\r\n\r\n  button {\r\n    font: inherit;\r\n    cursor: pointer;\r\n    background-color: #8a2b06;\r\n    border: 1px solid #8a2b06;\r\n    color: white;\r\n    padding: 0.25rem 2rem;\r\n    border-radius: 20px;\r\n    font-weight: bold;\r\n  }\r\n\r\n  button:hover,\r\n  button:active {\r\n    background-color: #641e03;\r\n    border-color: #641e03;\r\n  }\r\n\r\n  @media (max-width: 425px) {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-evenly;\r\n  }\r\n\r\n  @media (max-width: 320px) {\r\n    flex-direction: column;\r\n    button {\r\n      width: 100%;\r\n    }\r\n  }\r\n`;\r\n","import { useContext } from 'react';\r\nimport styled from 'styled-components';\r\nimport CartContext from '../../../store/cart-context';\r\nimport MealItemForm from './MealItemForm';\r\n\r\nexport default function MealItem({ name, description, price, id }) {\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  const formattedPrice = `$${price.toFixed(2)}`;\r\n\r\n  const addToCartHandler = (amount) => {\r\n    cartCtx.addItem({ id, name, amount, price });\r\n  };\r\n\r\n  return (\r\n    <Meal>\r\n      <div className=\"item\">\r\n        <div>\r\n          <h3>{name}</h3>\r\n          <Description>{description}</Description>\r\n        </div>\r\n        <Price>{formattedPrice}</Price>\r\n      </div>\r\n      <div>\r\n        <MealItemForm id={id} onAddToCart={addToCartHandler} />\r\n      </div>\r\n    </Meal>\r\n  );\r\n}\r\n\r\nconst Meal = styled.li`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 1rem;\r\n  padding-bottom: 1rem;\r\n  border-bottom: 1px solid #ccc;\r\n\r\n  h3 {\r\n    margin: 0 0 0.25rem 0;\r\n  }\r\n\r\n  @media (max-width: 425px) {\r\n    flex-direction: column;\r\n\r\n    .item {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      margin-bottom: 0.5rem;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Description = styled.div`\r\n  font-style: italic;\r\n`;\r\n\r\nconst Price = styled.div`\r\n  margin-top: 0.25rem;\r\n  font-weight: bold;\r\n  color: #ad5502;\r\n  font-size: 1.25rem;\r\n`;\r\n","import { useEffect, useState } from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\n\r\nimport Card from '../UI/Card';\r\nimport MealItem from './MealItem/MealItem';\r\n\r\nexport default function AvailableMeals() {\r\n  const [meals, setMeals] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [httpError, setHttpError] = useState();\r\n\r\n  useEffect(() => {\r\n    fetch('https://react-meals-web-app-default-rtdb.firebaseio.com/meals.json')\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error('Something went wrong!');\r\n        }\r\n\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        const loadedMeals = [];\r\n\r\n        for (const key in data) {\r\n          loadedMeals.push({\r\n            id: key,\r\n            name: data[key].name,\r\n            description: data[key].description,\r\n            price: data[key].price,\r\n          });\r\n        }\r\n\r\n        setMeals(loadedMeals);\r\n      })\r\n      .catch((error) => {\r\n        setHttpError(error.message);\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <MealsLoading>\r\n        <p>Loading...</p>\r\n      </MealsLoading>\r\n    );\r\n  }\r\n\r\n  if (httpError) {\r\n    return (\r\n      <MealsError>\r\n        <p>{httpError}</p>\r\n      </MealsError>\r\n    );\r\n  }\r\n\r\n  const mealsList = meals.map((meal) => (\r\n    <MealItem\r\n      key={meal.id}\r\n      id={meal.id}\r\n      name={meal.name}\r\n      description={meal.description}\r\n      price={meal.price}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <Meals>\r\n      <Card>\r\n        <ul>{mealsList}</ul>\r\n      </Card>\r\n    </Meals>\r\n  );\r\n}\r\n\r\nconst MealsLoading = styled.section`\r\n  text-align: center;\r\n  color: #fff;\r\n`;\r\n\r\nconst MealsError = styled.section`\r\n  text-align: center;\r\n  color: #f00;\r\n`;\r\n\r\nconst mealsAppear = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(3rem);\r\n  }\r\n\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst Meals = styled.section`\r\n  max-width: 60rem;\r\n  width: 90%;\r\n  margin: 2rem auto;\r\n  animation: ${mealsAppear} 1s ease-out forwards;\r\n\r\n  ul {\r\n    list-style: none;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport default function MealsSummary() {\r\n  return (\r\n    <Summary>\r\n      <h2>Delicious Food, Delivered To You</h2>\r\n      <p>\r\n        Choose your favorite meal from our broad selection of available meals and enjoy a\r\n        delicious lunch or dinner at home.\r\n      </p>\r\n      <p>\r\n        All our meals are cooked with high-quality ingredients, just-in-time and of course\r\n        by experienced chefs!\r\n      </p>\r\n    </Summary>\r\n  );\r\n}\r\n\r\nconst Summary = styled.section`\r\n  text-align: center;\r\n  max-width: 45rem;\r\n  width: 90%;\r\n  margin: auto;\r\n  margin-top: -10rem;\r\n  position: relative;\r\n  background-color: #383838;\r\n  color: white;\r\n  border-radius: 14px;\r\n  padding: 1rem;\r\n  box-shadow: 0 1px 18px 10px rgba(0, 0, 0, 0.25);\r\n\r\n  h2 {\r\n    font-size: 2rem;\r\n    margin-top: 0;\r\n  }\r\n\r\n  @media (max-width: 425px) {\r\n    width: 85%;\r\n  }\r\n`;\r\n","import AvailableMeals from './AvailableMeals';\r\nimport MealsSummary from './MealsSummary';\r\n\r\nexport default function Meals() {\r\n  return (\r\n    <>\r\n      <MealsSummary />\r\n      <AvailableMeals />\r\n    </>\r\n  );\r\n}\r\n","import ReactDOM from 'react-dom';\r\nimport styled, { keyframes } from 'styled-components';\r\n\r\nconst portalElement = document.getElementById('overlays');\r\n\r\nfunction Backdrop({ onClose }) {\r\n  return <BackdropStyle onClick={onClose} />;\r\n}\r\n\r\nexport default function Modal({ onClose, children }) {\r\n  return (\r\n    <>\r\n      {ReactDOM.createPortal(<Backdrop onClose={onClose} />, portalElement)}\r\n      {ReactDOM.createPortal(\r\n        <ModalOverlay>\r\n          <div>{children}</div>\r\n        </ModalOverlay>,\r\n        portalElement\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nconst slideDown = keyframes`\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-3rem);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n`;\r\n\r\nconst BackdropStyle = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100vh;\r\n  z-index: 20;\r\n  background-color: rgba(0, 0, 0, 0.75);\r\n`;\r\n\r\nconst ModalOverlay = styled.div`\r\n  position: fixed;\r\n  top: 15vh;\r\n  width: 40rem;\r\n  left: calc(50% - 20rem);\r\n  background-color: white;\r\n  padding: 1rem;\r\n  border-radius: 14px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.25);\r\n  z-index: 30;\r\n  animation: ${slideDown} 300ms ease-out forwards;\r\n\r\n  @media (max-width: 768px) {\r\n    left: 5%;\r\n    width: 85%;\r\n  }\r\n\r\n  @media (max-width: 425px) {\r\n    height: 75vh;\r\n    overflow: scroll;\r\n  }\r\n\r\n  @media (max-width: 320px) {\r\n    width: 80%;\r\n  }\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport default function CartItem({ price, name, amount, onRemove, onAdd }) {\r\n  const formattedPrice = `$${price.toFixed(2)}`;\r\n\r\n  return (\r\n    <CartItemWrapper>\r\n      <div>\r\n        <h2>{name}</h2>\r\n        <Summary>\r\n          <Price>{formattedPrice}</Price>\r\n          <Amount>x {amount}</Amount>\r\n        </Summary>\r\n      </div>\r\n      <Actions>\r\n        <button onClick={onRemove}>-</button>\r\n        <button onClick={onAdd}>+</button>\r\n      </Actions>\r\n    </CartItemWrapper>\r\n  );\r\n}\r\n\r\nconst CartItemWrapper = styled.li`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: 2px solid #8a2b06;\r\n  padding: 1rem 0;\r\n  margin: 1rem 0;\r\n\r\n  h2 {\r\n    margin: 0 0 0.5rem 0;\r\n    color: #363636;\r\n  }\r\n\r\n  button {\r\n    font: inherit;\r\n    font-weight: bold;\r\n    font-size: 1.25rem;\r\n    color: #8a2b06;\r\n    border: 1px solid #8a2b06;\r\n    width: 3rem;\r\n    text-align: center;\r\n    border-radius: 6px;\r\n    background-color: transparent;\r\n    cursor: pointer;\r\n    margin-left: 1rem;\r\n    margin: 0.25rem;\r\n  }\r\n  button:hover,\r\n  button:active {\r\n    background-color: #8a2b06;\r\n    color: white;\r\n  }\r\n`;\r\n\r\nconst Summary = styled.div`\r\n  width: 10rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst Price = styled.span`\r\n  font-weight: bold;\r\n  color: #8a2b06;\r\n`;\r\n\r\nconst Amount = styled.span`\r\n  font-weight: bold;\r\n  border: 1px solid #ccc;\r\n  padding: 0.25rem 0.75rem;\r\n  border-radius: 6px;\r\n  color: #363636;\r\n`;\r\n\r\nconst Actions = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n\r\n  @media (max-width: 768px) {\r\n    flex-direction: column-reverse;\r\n  }\r\n`;\r\n","import { useRef, useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst isNotEmpty = (value) => value.trim() !== '';\r\nconst isFiveOrEightChars = (value) =>\r\n  value.trim().length === 5 || value.trim().length === 8;\r\n\r\nexport default function Checkout({ onConfirm, onCancel }) {\r\n  const [formInputsValidity, setFormInputsValidity] = useState({\r\n    name: true,\r\n    street: true,\r\n    postalCode: true,\r\n    city: true,\r\n  });\r\n\r\n  const nameInputRef = useRef();\r\n  const streetInputRef = useRef();\r\n  const postalInputRef = useRef();\r\n  const cityInputRef = useRef();\r\n\r\n  const confirmHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    const enteredName = nameInputRef.current.value;\r\n    const enteredStreet = streetInputRef.current.value;\r\n    const enteredPostalCode = postalInputRef.current.value;\r\n    const enteredCity = cityInputRef.current.value;\r\n\r\n    const enteredNameIsValid = isNotEmpty(enteredName);\r\n    const enteredStreetIsValid = isNotEmpty(enteredStreet);\r\n    const enteredPostalCodeIsValid = isFiveOrEightChars(enteredPostalCode);\r\n    const enteredCityIsValid = isNotEmpty(enteredCity);\r\n\r\n    setFormInputsValidity({\r\n      name: enteredNameIsValid,\r\n      street: enteredStreetIsValid,\r\n      postalCode: enteredPostalCodeIsValid,\r\n      city: enteredCityIsValid,\r\n    });\r\n\r\n    const formIsValid =\r\n      enteredNameIsValid &&\r\n      enteredStreetIsValid &&\r\n      enteredPostalCodeIsValid &&\r\n      enteredCityIsValid;\r\n\r\n    if (!formIsValid) {\r\n      return;\r\n    }\r\n\r\n    onConfirm({\r\n      name: enteredName,\r\n      street: enteredStreet,\r\n      postalCode: enteredPostalCode,\r\n      city: enteredCity,\r\n    });\r\n\r\n    event.target.reset();\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={confirmHandler}>\r\n      <Control invalid={!formInputsValidity.name}>\r\n        <label htmlFor=\"name\">Your Name</label>\r\n        <input type=\"text\" id=\"name\" ref={nameInputRef} />\r\n        {!formInputsValidity.name && <p>Please enter a valid name!</p>}\r\n      </Control>\r\n      <Control invalid={!formInputsValidity.street}>\r\n        <label htmlFor=\"street\">Street</label>\r\n        <input type=\"text\" id=\"street\" ref={streetInputRef} />\r\n        {!formInputsValidity.street && <p>Please enter a valid street!</p>}\r\n      </Control>\r\n      <Control invalid={!formInputsValidity.postalCode}>\r\n        <label htmlFor=\"postal\">Postal Code</label>\r\n        <input type=\"text\" id=\"postal\" ref={postalInputRef} />\r\n        {!formInputsValidity.postalCode && (\r\n          <p>Please enter a valid postal code (5 or 8 characters long)!</p>\r\n        )}\r\n      </Control>\r\n      <Control invalid={!formInputsValidity.city}>\r\n        <label htmlFor=\"city\">City</label>\r\n        <input type=\"text\" id=\"city\" ref={cityInputRef} />\r\n        {!formInputsValidity.city && <p>Please enter a valid city!</p>}\r\n      </Control>\r\n      <Actions>\r\n        <button className=\"submit\">Confirm</button>\r\n        <button type=\"button\" onClick={onCancel}>\r\n          Cancel\r\n        </button>\r\n      </Actions>\r\n    </Form>\r\n  );\r\n}\r\n\r\nconst Form = styled.form`\r\n  margin: 1rem 0;\r\n  height: 19rem;\r\n  overflow: auto;\r\n\r\n  @media (max-width: 425px) {\r\n    height: 20rem;\r\n  }\r\n`;\r\n\r\nconst Control = styled.div`\r\n  margin-bottom: 0.5rem;\r\n\r\n  label {\r\n    font-weight: bold;\r\n    margin-bottom: 0.25rem;\r\n    display: block;\r\n  }\r\n\r\n  input {\r\n    font: inherit;\r\n    border: 1px solid #ccc;\r\n    border-radius: 4px;\r\n    width: 20rem;\r\n    max-width: 100%;\r\n  }\r\n\r\n  ${({ invalid }) =>\r\n    invalid &&\r\n    `\r\n    label {\r\n    color: #ca3e51;\r\n  }\r\n    input {\r\n    border-color: #aa0b20;\r\n    background-color: #ffeff1;\r\n  }\r\n    p {\r\n    color: #ca3e51;\r\n  }`}\r\n\r\n  @media (max-width: 425px) {\r\n    input {\r\n      width: 95%;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Actions = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 1rem;\r\n\r\n  button {\r\n    font: inherit;\r\n    color: #5a1a01;\r\n    cursor: pointer;\r\n    background-color: transparent;\r\n    border: none;\r\n    border-radius: 25px;\r\n    padding: 0.5rem 2rem;\r\n  }\r\n\r\n  button:hover,\r\n  button:active {\r\n    background-color: #ffe6dc;\r\n  }\r\n\r\n  .submit {\r\n    border: 1px solid #5a1a01;\r\n    background-color: #5a1a01;\r\n    color: white;\r\n  }\r\n\r\n  .submit:hover,\r\n  .submit:active {\r\n    background-color: #7a2706;\r\n  }\r\n\r\n  @media (max-width: 425px) {\r\n    justify-content: center;\r\n    margin-top: 1rem;\r\n  }\r\n`;\r\n","import { useContext, useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Modal from '../UI/Modal';\r\nimport CartContext from '../../store/cart-context';\r\nimport CartItem from './CartItem';\r\nimport Checkout from './Checkout';\r\n\r\nexport default function Cart({ onClose }) {\r\n  const [isCheckout, setIsCheckout] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [didSubmit, setDidSubmit] = useState(false);\r\n\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  const totalAmount = `$${cartCtx.totalAmount.toFixed(2)}`;\r\n  const hasItems = cartCtx.items.length > 0;\r\n\r\n  const cartItemRemoveHandler = (id) => {\r\n    cartCtx.removeItem(id);\r\n  };\r\n\r\n  const cartItemAddHandler = (item) => {\r\n    cartCtx.addItem({ ...item, amount: 1 });\r\n  };\r\n\r\n  const orderHandler = () => {\r\n    setIsCheckout(true);\r\n  };\r\n\r\n  const submitOrderHandler = (userData) => {\r\n    setIsSubmitting(true);\r\n    fetch('https://react-meals-web-app-default-rtdb.firebaseio.com/orders.json', {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        user: userData,\r\n        orderedItems: cartCtx.items,\r\n      }),\r\n    });\r\n    setIsSubmitting(false);\r\n    setDidSubmit(true);\r\n\r\n    cartCtx.clearCart();\r\n  };\r\n\r\n  const cartItems = (\r\n    <CartItems>\r\n      {cartCtx.items.map((item) => (\r\n        <CartItem\r\n          key={item.id}\r\n          name={item.name}\r\n          amount={item.amount}\r\n          price={item.price}\r\n          onRemove={cartItemRemoveHandler.bind(null, item.id)}\r\n          onAdd={cartItemAddHandler.bind(null, item)}\r\n        />\r\n      ))}\r\n    </CartItems>\r\n  );\r\n\r\n  const modalActions = (\r\n    <Actions>\r\n      {hasItems && <button onClick={orderHandler}>Order</button>}\r\n      <button className=\"--alt\" onClick={onClose}>\r\n        Close\r\n      </button>\r\n    </Actions>\r\n  );\r\n\r\n  const cartModalContent = (\r\n    <>\r\n      {cartItems}\r\n      <Total>\r\n        <span>Total Amount</span>\r\n        <span>{totalAmount}</span>\r\n      </Total>\r\n      {isCheckout && <Checkout onConfirm={submitOrderHandler} onCancel={onClose} />}\r\n      {!isCheckout && modalActions}\r\n    </>\r\n  );\r\n\r\n  const isSubmittingModalContent = <p>Sending order data...</p>;\r\n\r\n  const didSubmitModalContent = (\r\n    <>\r\n      <p>Successfully sent the order!</p>\r\n      <Actions>\r\n        <button className=\"--single\" onClick={onClose}>\r\n          Close\r\n        </button>\r\n      </Actions>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Modal onClose={onClose}>\r\n      {!isSubmitting && !didSubmit && cartModalContent}\r\n      {isSubmitting && isSubmittingModalContent}\r\n      {!isSubmitting && didSubmit && didSubmitModalContent}\r\n    </Modal>\r\n  );\r\n}\r\n\r\nconst CartItems = styled.ul`\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n  max-height: 20rem;\r\n  overflow: auto;\r\n`;\r\n\r\nconst Total = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  font-weight: bold;\r\n  font-size: 1.5rem;\r\n  margin: 1rem 0;\r\n`;\r\n\r\nconst Actions = styled.div`\r\n  text-align: right;\r\n\r\n  button {\r\n    font: inherit;\r\n    cursor: pointer;\r\n    background-color: #8a2b06;\r\n    color: white;\r\n    border: 1px solid #8a2b06;\r\n    padding: 0.5rem 2rem;\r\n    border-radius: 25px;\r\n    margin-left: 1rem;\r\n  }\r\n\r\n  button:hover,\r\n  button:active {\r\n    background-color: #5a1a01;\r\n    border-color: #5a1a01;\r\n    color: white;\r\n  }\r\n\r\n  .--alt {\r\n    background-color: transparent;\r\n    color: #8a2b06;\r\n  }\r\n\r\n  .--single {\r\n    margin-left: 0;\r\n  }\r\n\r\n  @media (max-width: 425px) {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n`;\r\n","import { useReducer } from 'react';\r\n\r\nimport CartContext from './cart-context';\r\n\r\nconst defaultCartState = {\r\n  items: [],\r\n  totalAmount: 0,\r\n};\r\n\r\nconst cartReducer = (state, action) => {\r\n  if (action.type === 'ADD') {\r\n    const updatedTotalAmount = state.totalAmount + action.item.price * action.item.amount;\r\n\r\n    const existingCartItemIndex = state.items.findIndex(\r\n      (item) => item.id === action.item.id // Returns the index of the item, if it exists\r\n    );\r\n    const existingCartItem = state.items[existingCartItemIndex];\r\n\r\n    let updatedItems;\r\n\r\n    if (existingCartItem) {\r\n      const updatedItem = {\r\n        ...existingCartItem,\r\n        amount: existingCartItem.amount + action.item.amount,\r\n      };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingCartItemIndex] = updatedItem;\r\n    } else {\r\n      updatedItems = state.items.concat(action.item);\r\n    }\r\n\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: updatedTotalAmount,\r\n    };\r\n  }\r\n  if (action.type === 'REMOVE') {\r\n    const existingCartItemIndex = state.items.findIndex((item) => item.id === action.id);\r\n    const existingItem = state.items[existingCartItemIndex];\r\n    const updatedTotalAmount = state.totalAmount - existingItem.price;\r\n    let updatedItems;\r\n\r\n    if (existingItem.amount === 1) {\r\n      updatedItems = state.items.filter((item) => item.id !== action.id); // Remove the item from the items array\r\n    } else {\r\n      const updatedItem = { ...existingItem, amount: existingItem.amount - 1 };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingCartItemIndex] = updatedItem;\r\n    }\r\n\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: updatedTotalAmount,\r\n    };\r\n  }\r\n\r\n  if (action.type === 'CLEAR') {\r\n    return defaultCartState;\r\n  }\r\n\r\n  return defaultCartState;\r\n};\r\n\r\nexport default function CartProvider({ children }) {\r\n  const [cartState, dispatchCartAction] = useReducer(cartReducer, defaultCartState);\r\n\r\n  const addItemToCartHandler = (item) => {\r\n    dispatchCartAction({ type: 'ADD', item: item });\r\n  };\r\n\r\n  const removeItemToCartHandler = (id) => {\r\n    dispatchCartAction({ type: 'REMOVE', id: id });\r\n  };\r\n\r\n  const clearCartHandler = () => {\r\n    dispatchCartAction({ type: 'CLEAR' });\r\n  };\r\n\r\n  const cartContext = {\r\n    items: cartState.items,\r\n    totalAmount: cartState.totalAmount,\r\n    addItem: addItemToCartHandler,\r\n    removeItem: removeItemToCartHandler,\r\n    clearCart: clearCartHandler,\r\n  };\r\n  return <CartContext.Provider value={cartContext}>{children}</CartContext.Provider>;\r\n}\r\n","import GlobalStyle from './theme/globalStyle';\r\nimport Header from './components/Layout/Header';\r\nimport Meals from './components/Meals/Meals';\r\nimport Cart from './components/Cart/Cart';\r\nimport { useState } from 'react';\r\nimport CartProvider from './store/CartProvider';\r\n\r\nfunction App() {\r\n  const [cartIsShown, setCartIsShown] = useState(false);\r\n\r\n  const showCartHandler = () => {\r\n    setCartIsShown(true);\r\n  };\r\n\r\n  const hideCartHandler = () => {\r\n    setCartIsShown(false);\r\n  };\r\n\r\n  return (\r\n    <CartProvider>\r\n      <GlobalStyle />\r\n      {cartIsShown && <Cart onClose={hideCartHandler} />}\r\n      <Header onShowCart={showCartHandler} />\r\n      <main>\r\n        <Meals />\r\n      </main>\r\n    </CartProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}